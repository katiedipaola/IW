#include <stdio.h>

/** Application main entry point. */
int main(int argc, char *argv[]) {
  for (;;) {
    char d[4][8];

    scanf(" %s", d[0]);
    if (d[0][0] == '0')
      break;
    scanf(" %s", d[1]);
    scanf(" %s", d[2]);

    if (d[0][0] != '+' && ((d[0][0] == d[0][1] && d[0][0] == d[0][2]) ||
                           (d[0][0] == d[1][0] && d[0][0] == d[2][0]))) {
      printf("%c\n", d[0][0]);
    } else if (d[2][2] != '+' && ((d[2][2] == d[2][1] && d[2][2] == d[2][0]) ||
                                  (d[2][2] == d[1][2] && d[2][2] == d[0][2]))) {
      printf("%c\n", d[2][2]);
    } else if (d[1][1] != '+' && ((d[1][1] == d[1][0] && d[1][1] == d[1][2]) ||
                                  (d[1][1] == d[0][1] && d[1][1] == d[2][1]) ||
                                  (d[1][1] == d[0][0] && d[1][1] == d[2][2]) ||
                                  (d[1][1] == d[0][2] && d[1][1] == d[2][0]))) {
      printf("%c\n", d[1][1]);
    } else {
      puts("NA");
    }
  }

  return (0);
}